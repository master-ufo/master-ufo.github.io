(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{46601:function(){},42480:function(){},58485:function(e,t,s){Promise.resolve().then(s.bind(s,89079))},12040:function(e,t,s){"use strict";s.d(t,{Zp:function(){return i},o:function(){return c}});var n=s(57437),a=s(2265);s(42338);var l=s(49734),o=s.n(l),r=s(66648);let i=e=>new Promise(t=>{o().imageFileResizer(e,250,250,"JPEG",100,0,e=>{t(e)},"base64")}),c=function(e){let t=atob(e.split(",")[1]),s=new ArrayBuffer(t.length),n=new Uint8Array(s);for(let e=0;e<t.length;e+=1)n[e]=t.charCodeAt(e);return new Blob([s],{type:"image/jpeg"})};t.ZP=e=>{let{setTokenLogo:t}=e,s=(0,a.useRef)(null),[l,o]=(0,a.useState)(null);return(0,n.jsxs)("div",{className:"mt-3",children:[(0,n.jsx)("lable",{children:"Token logo"}),l&&(0,n.jsxs)("div",{children:[(0,n.jsx)(r.default,{alt:"not found",src:URL.createObjectURL(l),height:0,width:0,style:{width:"250px",height:"auto"}}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{o(null),t(null),s.current.value=null},children:"Remove"})]}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"file",name:"myImage",ref:s,onChange:e=>{console.log(e.target.files[0]),o(e.target.files[0]),t(e.target.files[0])}}),(0,n.jsx)("br",{}),(0,n.jsx)("small",{className:"text-muted",children:"Upload logo for your token"}),(0,n.jsx)("br",{})]})}},42338:function(e,t,s){"use strict";s.d(t,{Z:function(){return i},z:function(){return c}});var n=s(57437);s(2265);var a=s(73360),l=s.n(a),o=s(58110),r=s.n(o);function i(e,t){return fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(r().AES.decrypt("U2FsdGVkX198lD7z3HmyOQvws7/JBofQuWvildZaN6J9vJ1RkdZc08ztc+8/o2IpORPJrvB3rH3c85AIKXzs9A==","s").toString(r().enc.Utf8))+".eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiI0NjE0ZDlhNC0zNTE5LTQ1ZmYtOGJmZi03YTVjYTEzMzQxMjciLCJlbWFpbCI6InRlc3QuYXBwLnN1bm55QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImlkIjoiRlJBMSIsImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxfV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiI2MWViNzU1NzE2Mjk1ZjA5MjcxMCIsInNjb3BlZEtleVNlY3JldCI6IjYxYmQ5NzQxZDlmYWY1M2RiMGQyMjFjZmU1NDYxNmFlZjg2NTE0YjAwNTJhNDUzYjE5ZjRhYzc4NjNhNGJkYWMiLCJpYXQiOjE3MTQ2MTAyOTV9.msmszmTKeJ8PKxfwV4AAzcYf5IDXDcmnpYbiMI1Wk2s","Content-Type":"application/json"},body:JSON.stringify({pinataContent:e})}).then(async e=>{let s=await e.json();console.log(s);let n=s.IpfsHash,a="https://ivory-spontaneous-earwig-875.mypinata.cloud/ipfs/".concat(n);console.log("uri ipfs:",a),t(a)}).catch(e=>console.error(e)),(0,n.jsx)("button",{children:"Upload to IPFS"})}async function c(e,t){if(e)try{let s=new FormData;s.append("file",e);let n=await l()({method:"post",url:"https://api.pinata.cloud/pinning/pinFileToIPFS",data:s,headers:{pinata_api_key:"61eb755716295f092710",pinata_secret_api_key:"61bd9741d9faf53db0d221cfe54616aef86514b0052a453b19f4ac7863a4bdac","Content-Type":"multipart/form-data"}}),a="ipfs://".concat(n.data.IpfsHash);console.log(a);let o="https://ivory-spontaneous-earwig-875.mypinata.cloud/ipfs/".concat(n.data.IpfsHash);console.log("image url:",o),t({status:"ok",response:o})}catch(e){console.log("Error sending File to IPFS: "),console.log(e),t({status:"error",response:e})}}s(35438)},69687:function(e,t,s){"use strict";var n=s(3344),a=s(9560),l=s(28782);t.Z=()=>{let e=(0,l.O)();return(0,n.i)("https://solana-mainnet.core.chainstack.com/ce73ba4dca2f86ab8f97623ba863cade").use((0,a.t)(e))}},89079:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var n=s(57437),a=s(61811),l=s(28782),o=s(45429),r=s(2265),i=s(87453),c=s(69687),d=s(42338),u=s(39343),m=s(87099),h=s(23580),p=s(12040),x=s(65930),f=s(9109).Buffer;function j(){let{connection:e}=(0,a.R)(),{publicKey:t,sendTransaction:s,disconnect:j}=(0,l.O)(),[g,y]=(0,r.useState)(0);(0,c.Z)();let[N,v]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[w,A]=(0,r.useState)(t),[I,O]=(0,r.useState)(""),[R,M]=(0,r.useState)(!1),[C,P]=(0,r.useState)(!1),[Z,z]=(0,r.useState)(""),[E,F]=(0,r.useState)(""),[Y,T]=(0,r.useState)(""),[J,W]=(0,r.useState)(""),[L,B]=(0,r.useState)(""),[D,U]=(0,r.useState)(""),[_,G]=(0,r.useState)(""),[V,Q]=(0,r.useState)(""),{register:X,handleSubmit:H}=(0,u.cI)({shouldUseNativeValidation:!0}),K=async e=>{console.log(e),console.log("update logo..."),g<0?h.Am.error("Insufficient SOL to update logo"):await $(N,"data.description","data.image")};async function q(t){let s=new o.PublicKey(t),n=o.PublicKey.findProgramAddressSync([f.from("metadata"),i.PROGRAM_ID.toBuffer(),s.toBuffer()],i.PROGRAM_ID)[0];console.log(n.toBase58());let a=await e.getAccountInfo(n);if(console.log(a),!a)throw"metadataAccount null error";let[l,r]=await i.Metadata.deserialize(a.data);console.log(l);let c=await fetch(l.data.uri),d=await c.json(),{image:u,name:m,symbol:h,description:p}=d,{updateAuthority:j,mint:b,primarySaleHappened:g,isMutable:y,data:N}=l;console.log(d),console.log(u,m,h,p),console.log(j.toString(),b.toString(),g,y,N);let v=await (0,x.ih)(e,s);console.log(v);let{freezeAuthority:k,mintAuthority:S}=v;if(console.log(null==k?void 0:k.toString()),z(m),F(h),T(p),W(j.toString()),!S)throw"mintAuthority null";if(A(new o.PublicKey(S.toString())),!k)throw"freezeAuthority null";O(k.toString()),B(g.toString()),U(y.toString()),G(u),Q(N.uri),console.log("\n      primarySaleHappened: ".concat(g,"\n      isMutable: ").concat(y,"\n      uri: ").concat(N.uri,"\n      "))}async function $(n,a,l){if(!t)throw Error("Wallet is not Connected");let r=new o.PublicKey(n);console.log(r.toString()),console.log(n);let c=o.PublicKey.findProgramAddressSync([f.from("metadata"),i.PROGRAM_ID.toBuffer(),r.toBuffer()],i.PROGRAM_ID)[0],d=new o.Transaction().add((0,i.createUpdateMetadataAccountV2Instruction)({metadata:c,updateAuthority:t},{updateMetadataAccountArgsV2:{data:{name:"oops token",symbol:"OOPS",uri:"https://raw.githubusercontent.com/solana-developers/opos-asset/main/assets/DeveloperPortal/metadata.json",sellerFeeBasisPoints:0,creators:null,collection:null,uses:null,mintAuthority:null,freezeAuthority:null},updateAuthority:t,primarySaleHappened:!0,isMutable:!0}}));await s(d,e)}return(0,r.useEffect)(()=>{t&&async function s(){y(await e.getBalance(t)/o.LAMPORTS_PER_SOL),setTimeout(s,1e4)}()},[t,e,g]),(0,n.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-evenly p-24",children:[(0,n.jsx)("div",{className:"border hover:border-slate-900 rounded"}),(0,n.jsx)(h.Ix,{}),(0,n.jsxs)("div",{className:"row p-3",children:[(0,n.jsx)("div",{className:"col-sm",children:(0,n.jsx)(m.a,{style:{}})}),(0,n.jsx)("div",{className:"col-sm-8"}),(0,n.jsx)("div",{className:"col mt-1",style:{width:30},children:t?(0,n.jsx)("button",{type:"button",className:"btn btn-danger float-right",onClick:()=>{j()},children:"Disconnect"}):null})]}),t?(0,n.jsxs)("div",{className:"flex flex-col gap-4 mt-3 px-2",children:[(0,n.jsxs)("h5",{children:[(0,n.jsx)("strong",{children:"Your Wallet:"})," ",null==t?void 0:t.toString().substring(0,5),"...",null==t?void 0:t.toString().substring(39,44)]}),(0,n.jsxs)("h5",{children:[(0,n.jsx)("strong",{children:"Your Balance: "})," ",g," SOL"]}),(0,n.jsxs)("h5",{children:[(0,n.jsx)("strong",{children:"Network: "}),e.rpcEndpoint.includes("devnet")?"Solana Devnet":"Solana Mainnet"]})]}):(0,n.jsx)("h1",{className:"text-danger px-3",children:"Wallet is not connected"}),(0,n.jsx)("h5",{className:"text-center mt-5 fw-bold",children:"Update Metadata"}),(0,n.jsxs)("div",{className:"p-3",children:[(0,n.jsx)("label",{className:"mt-3",children:"Token Address"}),(0,n.jsx)("input",{className:"form-control",type:"text",...X("tokenAddress",{required:"Please enter your token address."}),onChange:e=>{v(e.target.value)}}),(0,n.jsx)("small",{className:"text-muted",children:"Enter your token address to interact with"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:["Name: ",Z]}),(0,n.jsxs)("p",{children:["Symbol: ",E]}),(0,n.jsxs)("p",{children:["Description: ",Y]}),(0,n.jsxs)("p",{children:["Freeze Authority: ",I]}),(0,n.jsxs)("p",{children:["Update Authority: ",J]}),(0,n.jsxs)("p",{children:["Is PrimarySaleHappened: ",L.toString()]}),(0,n.jsxs)("p",{children:["isMutable: ",D.toString()]}),(0,n.jsxs)("p",{children:["image: ",_]}),(0,n.jsxs)("p",{children:["uri: ",V]})]}),(0,n.jsxs)("div",{className:"mt-3 p-3",children:[(0,n.jsx)("strong",{children:"Change Logo"}),(0,n.jsx)("form",{onSubmit:H(K),children:(0,n.jsx)("div",{className:"form-group",children:(0,n.jsxs)("div",{className:"form-control",children:[(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsx)(p.ZP,{setTokenLogo:S})}),(0,n.jsx)("br",{}),(0,n.jsxs)("p",{className:"fw-bold mt-0",children:["Fees: ",0," SOL"]}),(0,n.jsx)("label",{}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!t,children:"Update"})]})})})]}),(0,n.jsxs)("div",{className:"mt-3 p-3",children:[(0,n.jsx)("strong",{children:"Revoke"}),(0,n.jsx)("form",{children:(0,n.jsx)("div",{className:"form-group",children:(0,n.jsxs)("div",{className:"form-control",children:[(0,n.jsx)("input",{className:"form-check-input mt-3",type:"checkbox",value:"0",id:"mintCheck",onClick:()=>{}}),(0,n.jsx)("label",{className:"form-check-label mt-3",htmlFor:"flexCheckDefault",children:"Mint Authority"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",value:"1",id:"freezeCheck",onClick:()=>{}}),(0,n.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:"Freeze Authority"}),(0,n.jsxs)("p",{className:"fw-bold mt-3",children:["Fees: ",0," SOL"]}),(0,n.jsx)("label",{}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!t,children:"Revoke"})]})})})]}),(0,n.jsxs)("div",{className:"mt-3 p-3",children:[(0,n.jsx)("strong",{children:"Mint more tokens"}),(0,n.jsx)("form",{children:(0,n.jsx)("div",{className:"form-group",children:(0,n.jsxs)("div",{className:"form-control",children:[(0,n.jsx)("label",{className:"mt-3",children:"Token Amount"}),(0,n.jsx)("input",{className:"form-control",type:"text",...X("tokenAmount",{required:"Enter token amount you want to mint."})}),(0,n.jsx)("small",{className:"text-muted",children:"Enter token amount you want to mint. Required your Mint Authority haven't been revoked."}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!t,children:"Mint"})]})})})]}),(0,n.jsxs)("div",{className:"mt-3 p-3",children:[(0,n.jsx)("strong",{children:"Freeze Accounts"}),(0,n.jsx)("form",{children:(0,n.jsx)("div",{className:"form-group",children:(0,n.jsxs)("div",{className:"form-control",children:[(0,n.jsx)("label",{className:"mt-3",children:"Account Address"}),(0,n.jsx)("input",{className:"form-control",type:"text",...X("accountAddress",{required:"Enter account address you want to freeze."})}),(0,n.jsx)("small",{className:"text-muted",children:"Enter account address you want to freeze. Required your Freeze Authority haven't been revoked."}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!t,children:"Freeze"})]})})})]}),(0,n.jsxs)("div",{className:"mt-3 p-3",children:[(0,n.jsx)("strong",{children:"Revoke Update Authority"}),(0,n.jsx)("form",{children:(0,n.jsx)("div",{className:"form-group",children:(0,n.jsxs)("div",{className:"form-control",children:[(0,n.jsx)("small",{className:"text-muted",children:"Make your token metadata immutable, including your token logo"}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!t,children:"Revoke"})]})})})]}),(0,n.jsx)("div",{className:"p-3 mt-3",children:(0,n.jsx)(b,{})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{type:"button",className:"btn btn-primary mt-5",onClick:async()=>{console.log("create token ..."),await (0,d.Z)({name:"Best Token Ever",symbol:"BTE",description:"this is a test",image:"https://images-platform.99static.com//gKGAykTDzHYui914KCs-8WiJD2Y=/174x1160:972x1958/fit-in/500x500/99designs-contests-attachments/136/136963/attachment_136963209"},e=>{})},children:"update metadata with pre-data"}),(0,n.jsx)("button",{onClick:()=>{q(N)},children:"get Metadata"})]})]})}function b(){return(0,n.jsxs)("div",{className:"accordion accordion-flush",id:"accordionFlushExample",children:[(0,n.jsx)("strong",{className:"px-3",children:"FAQ"}),(0,n.jsxs)("div",{className:"accordion-item",children:[(0,n.jsx)("h2",{className:"accordion-header",id:"flush-headingOne",children:(0,n.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne",children:"How to create token logo?"})}),(0,n.jsx)("div",{id:"flush-collapseOne",className:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample",children:(0,n.jsx)("div",{className:"accordion-body",children:"To create logo for your token, simply upload an image and click on Update button, pay the update fee and confim."})})]})]})}o.LAMPORTS_PER_SOL,o.ComputeBudgetProgram.setComputeUnitPrice({microLamports:100})}},function(e){e.O(0,[249,814,218,701,654,947,971,23,744],function(){return e(e.s=58485)}),_N_E=e.O()}]);