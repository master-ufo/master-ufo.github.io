<div class="smarttax my-3">
  <form>
    <div class="form-group row" style="display: none">
      <label class="col-sm-3 col-form-lable">Contract name</label>
      <div class="col-sm-9">
        <input
          class="contract_name"
          type="text"
          placeholder=""
          name="contract_name"
          title="Enter contract name without spaces"
          noSpaces="true"
        />
        <p class="hint">
          Choose a name for your token contract (without spaces, ex:
          MyAwesomeToken)
        </p>
      </div>
    </div>

    <div class="form-group row rewardContainer">
      <!-- <label class="col-sm-3 col-form-lable">Token reward </label>
            <div class="col-sm-9">
                <input class="col-sm-9 reward_token" type="text"
                    placeholder="0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c" ethAddress="true" />

                <p class="hint">
                    Select reward token to be sent for marketing. Ex: If you want BNB
                    reward, enter 0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c.
                </p>
            </div> -->
    </div>

    <div class="form-group row">
      <label class="col-sm-3 col-form-lable">Token name</label>
      <div class="col-sm-9">
        <input
          class="token_name"
          type="text"
          placeholder=""
          required
          name="token_name"
          title="Enter token name"
        />
        <p class="hint">Choose a name for your token.</p>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-sm-3 col-form-lable">Token symbol </label>
      <div class="col-sm-9">
        <input
          class="token_symbol"
          type="text"
          placeholder=""
          required
          name="token_symbol"
          title="Enter token symbol"
        />
        <p class="hint">Choose a symbol for your token (usually 3-5 chars).</p>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-3 col-form-lable">Total supply </label>
      <div class="col-sm-9">
        <input
          class="token_supply"
          type="number"
          min="1"
          max="1000000000000000"
          placeholder=""
          integer="true"
          name="total_supply"
          required
        />
        <p class="hint">
          Insert the initial number of tokens available. Will be put in your
          account.
        </p>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-sm-3 col-form-lable">Decimals </label>
      <div class="col-sm-9">
        <input
          class="decimals"
          type="number"
          min="2"
          max="18"
          placeholder="18"
          name="decimals"
          integer="true"
        />
        <p class="hint">Insert the decimal precision of your token.</p>
      </div>
    </div>

    <div class="form-group row" style="display: none">
      <label class="col-sm-3 col-form-lable">Max Transfer % </label>
      <div class="col-sm-9">
        <input
          value="100"
          class="max_tx_percent"
          type="number"
          min="1"
          placeholder=""
          name="maxTxPercent"
          max="25"
          integer="true"
          required
        />
        <p class="hint">
          Maximum % of total supply allowed for each transaction.
        </p>
      </div>
    </div>

    <p><strong>Marketing Wallet </strong></p>

    <div class="row">
      <input
        class="marketing_wallet"
        type="text"
        placeholder=""
        name="marketingWallet"
        ethAddress="true"
        required
      />
      <p class="hint">Marketing tax will be sent to marketing wallet.</p>
    </div>

    <p><strong>Tax:</strong></p>

    <div class="form-group row">
      <label class="col-sm-3 col-form-lable">Marketing Fees % </label>
      <div class="col-sm-9">
        <input
          class="marketing_fees"
          type="number"
          min="0"
          placeholder=""
          name="marketingFees"
          max="25"
          integer="true"
          required
        />
        <p class="hint">Transaction fee in % to generate marketing budget.</p>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-sm-3 col-form-lable">Liquidity Fees % </label>
      <div class="col-sm-9">
        <input
          class="liquidity_fees"
          type="number"
          min="0"
          placeholder=""
          name="liquidityFees"
          max="25"
          integer="true"
          required
        />
        <p class="hint">Transaction fee in % to generate liquidity.</p>
      </div>
    </div>

    <p><strong>Extra Sell Tax:</strong></p>

    <div class="form-group row">
      <label class="col-sm-3 col-form-lable">Tax Fees % </label>
      <div class="col-sm-9">
        <input
          class="tax_fees_extra"
          type="number"
          min="0"
          placeholder=""
          name="taxFees"
          max="25"
          integer="true"
          required
        />
        <p class="hint">Extra fees will be applied to sell transaction.</p>
      </div>
    </div>

    <div class="form-check mt-2">
      <input
        class="form-check-input max_wallet_option"
        type="checkbox"
        value=""
        id="max_wallet_option_smarttax"
      />
      <label class="form-check-label" for="max_wallet_option_smarttax">
        <strong>Max Wallet</strong>
      </label>
    </div>
    <br />
    <div class="form-group row max_wallet" style="display: none">
      <label class="col-sm-3 col-form-lable">Max Wallet % </label>
      <div class="col-sm-9">
        <input
          class="max_wallet_percent"
          type="number"
          min="1"
          max="100"
          placeholder=""
          name="maxWalletPercent"
          integer="true"
          required
        />
        <p class="hint">
          The maximum percent of total supply a wallet can have.
        </p>
      </div>
    </div>

    <div class="form-check mt-2">
      <input
        class="form-check-input max_tx_option_smarttax"
        type="checkbox"
        value=""
        id="max_tx_option_smarttax"
      />
      <label class="form-check-label" for="max_tx_option_smarttax">
        <strong>Max Transaction</strong>
      </label>
    </div>
    <br />
    <div class="form-group row max_tx" style="display: none">
      <label class="col-sm-3 col-form-lable">Max Transaction Amount </label>
      <div class="col-sm-9">
        <input
          class="max_tx_amount"
          type="number"
          min="1"
          placeholder=""
          name="maxTxAmount"
          integer="true"
          required
        />
        <p class="hint">
          Maximum amount of tokens allowed for each transaction.
        </p>
      </div>
    </div>

    <div class="form-check mt-2">
      <input
        class="form-check-input blacklist_option"
        type="checkbox"
        value=""
        id="blacklist_option_smarttax"
      />

      <label class="form-check-label" for="blacklist_option_smarttax">
        <strong>Blacklist</strong>
      </label>
    </div>

    <div class="form-group mt-3" style="display: none">
      <label for="exampleFormControlTextarea1">Description</label>
      <textarea
        class="form-control description"
        id="exampleFormControlTextarea1"
        rows="3"
        maxlength="2000"
        style="
          font-family: 'Courier New', Courier, monospace;
          font-size: medium;
        "
        placeholder=""
      >
      </textarea>
      <p class="hint">Info on top of contract</p>
    </div>

    <script>
      var textarea = document.getElementById("exampleFormControlTextarea1");
      var limit = 200;

      textarea.oninput = function () {
        textarea.style.height = "";
        textarea.style.height = Math.min(textarea.scrollHeight, 300) + "px";
      };
    </script>
  </form>
</div>

<script type="module">
  import { addPrice, subPrice } from "./static/parameters.js";

  $("#max_wallet_option_smarttax").on("click", () => {
    if ($("#max_wallet_option_smarttax").is(":checked")) {
      $(".smarttax .max_wallet").show();
      $(".smarttax .max_wallet_percent").attr("placeholder", 2);

      // addPrice(0.1);
    } else {
      $(".smarttax .max_wallet").hide();
      $(".smarttax .max_wallet_percent").attr("placeholder", 101);
      // subPrice(0.1);
    }
  });

  $("#max_tx_option_smarttax").on("click", () => {
    if ($("#max_tx_option_smarttax").is(":checked")) {
      $(".smarttax .max_tx").show();
    } else {
      $(".smarttax .max_tx").hide();
    }
  });
</script>

<script>
  function setReward() {
    var network = $(".network").val();
    var token_type = "smarttax";
    var view_folder = "smartTaxRewards";

    if (network == 97) {
      $("." + token_type + " .rewardContainer").load(
        "static/views/" + view_folder + "/bscTest.html"
      );
    }
    if (network == 56) {
      $("." + token_type + " .rewardContainer").load(
        "static/views/" + view_folder + "/bsc.html"
      );
    }

    if (network == 1) {
      $("." + token_type + " .rewardContainer").load(
        "static/views/" + view_folder + "/eth.html"
      );
    }

    if (network == 137) {
      $("." + token_type + " .rewardContainer").load(
        "static/views/" + view_folder + "/matic.html"
      );
    }

    if (network == 43114) {
      $("." + token_type + " .rewardContainer").load(
        "static/views/" + view_folder + "/avalanche.html"
      );
    }

    if (network == 250) {
      $("." + token_type + " .rewardContainer").load(
        "static/views/" + view_folder + "/fantom.html"
      );
    }

    if (network == 25) {
      $("." + token_type + " .rewardContainer").load(
        "static/views/" + view_folder + "/cronos.html"
      );
    }

    if (network == 2000) {
      $("." + token_type + " .rewardContainer").load(
        "static/views/" + view_folder + "/doge.html"
      );
    }

    if (network == 42161 || network == 421613) {
      $("." + token_type + " .rewardContainer").load(
        "static/views/" + view_folder + "/arbitrum.html"
      );
    }

    if (network == 943 || network == 369) {
      $("." + token_type + " .rewardContainer").load(
        "static/views/" + view_folder + "/pulsechain.html"
      );
    }

    if (network == 8453) {
      $("." + token_type + " .rewardContainer").load(
        "static/views/" + view_folder + "/base.html"
      );
    }
  }
  setReward();

  $(".network").on("change", () => {
    setReward();
  });
</script>
